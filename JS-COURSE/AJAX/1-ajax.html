<html>

<head>
  <title>AJAX</title>
</head>

<body>
  <table id="data-table" border="1">
    <thead>
        <tr>
            <th>ID</th>
            <th>Email</th>
            <th>Username</th>
            <th>Password</th>
        </tr>
    </thead>
    <tbody>
    </tbody>
</table>
  <script>
    // Create a new XMLHttpRequest object

    var dataArray = [];
    var xhr = new XMLHttpRequest();

    // Specify the URL with the data source
    var url = 'http://filltext.com/?rows=5&id={index}&email={email}&username={username}&password={randomString|5}&pretty=true';

    // Configure it: GET-request for the URL
    xhr.open('GET', url, true);

    // Set up a function to handle the response
    xhr.onload = function () {
      if (xhr.status >= 200 && xhr.status < 300) {
        // Parse JSON data from the response
        var data = JSON.parse(xhr.responseText);
        console.log(data); // Log the data to the console
      } else {
        // Handle errors (e.g., 404 or 500)
        console.error('Request failed. Status: ' + xhr.status);
      }
    };

    // Handle network errors
    xhr.onerror = function () {
      console.error('Request failed');
    };

    // Send the request
    xhr.send();

    for (i = 0; i < xhr.length; i++) {
            var myTableRow = document.createElement("tr")
            for (a in xhr[i]) {
                var myTableData = document.createElement("td")
                myTableData.innerHTML = xhr[i][a]
                myTableRow.appendChild(myTableData);
            }
            document.querySelector("tbody").appendChild(myTableRow)
        }

  </script>
</body>

</html>